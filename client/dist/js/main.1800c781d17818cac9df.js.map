{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/theme.js","webpack:///./src/api/error.js","webpack:///./src/config.js","webpack:///./src/api/formatURL.js","webpack:///./src/api/api.js","webpack:///./src/api/methods.js","webpack:///./src/components/ToolPage/slice.js","webpack:///./src/components/ResultsList/slice.js","webpack:///./src/components/Settings/handler.js","webpack:///./src/components/QueryFilter/index.js","webpack:///./src/components/ResultsList/as_list.js","webpack:///./src/components/ResultsList/index.js","webpack:///./src/components/ToolPage/index.js","webpack:///./src/components/Settings/index.js","webpack:///./src/components/Header/index.js","webpack:///./src/components/App/appSlice.js","webpack:///./src/components/App/errorBoundary.js","webpack:///./src/components/App/component.js","webpack:///./src/components/App/container.js","webpack:///./src/reducer.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","theme","createMuiTheme","palette","primary","main","secondary","error","success","green","A200","background","default","status","danger","ApiError","message","response","isObject","JSON","parse","e","this","toast","toString","autoClose","stringify","API_URL","formatURL","url","params","base","substr","obj","queryString","keys","reduce","a","k","encodeURIComponent","join","fetchResource","path","userOptions","defaultOptions","defaultHeaders","bodyMethods","options","headers","method","toLowerCase","isFile","body","File","indexOf","fetch","then","responseObject","text","json","parsedResponse","apiWrapper","tool","submit","post","info","reqData","id","createSlice","initialState","from","to","filters","reducers","setData","reducer","state","action","payload","prepare","actions","initState","errorMessage","loading","hasRequested","list","reachedMaxStatementTime","completionTime","reqID","isCached","cacheAge","console","log","props","setLoading","newValue","setInit","getData","ignoreCache","dispatch","getState","dataToSend","api","res","meta","time","cached","cache_age","err","SettingsHandler","defaults","localStorage","getItem","filter","setItem","filterProperties","category","title","depth","talk","template","petscan","filterPlaceholder","type","specific","QueryFilter","filterChanged","inputLanguage","project","targetLanguage","titleLanguage","output","outputOptions","onlyArticles","event","target","checked","setState","filterIndex","inputValue","newFilter","numericalValue","parseInt","currentFilter","ind","item","counter","history","wasFilterError","forEach","warn","setRequestData","match","auto","parsedData","formattedFilters","entry","finalFilter","settingsHandler","getSettings","newFilters","handleURLParams","prevProps","classes","dataLoading","className","root","TextField","label","onChange","handleChange","size","variant","margin","map","Divider","light","IconButton","aria-label","onClick","addFilter","fontSize","removeFilter","select","handleFilterChange","MenuItem","style","width","fullWidth","inputProps","min","max","step","FormControl","formControl","InputLabel","htmlFor","Select","input","OutlinedInput","Button","disabled","color","disableelevation","marginBottom","Component","propTypes","PropTypes","mapDispatchToProps","connect","withStyles","spacing","minWidth","selectEmpty","marginTop","withTheme","withRouter","useStyles","makeStyles","col3","columnCount","breakpoints","up","col2","removedUnderline","textDecoration","ArticleList","language","article","iws","href","replace","Wikilist","formattedTitle","formatForClipboard","lang","items","ResultsList","anchorEl","resultFormat","articles","navigator","clipboard","writeText","Boolean","loadingPageWrapper","CircularProgress","loadingPage","Typography","component","clsx","floatRight","flexContainer","reqLinks","clipboardButton","copyDataToClipboard","infoText","loadWithoutCache","reloadWithoutCache","display","position","height","alignItems","top","cursor","float","flexDirection","formatButtons","MainPage","Settings","modalOpenHandle","isOpen","React","useState","setInputLanguage","setTargetLanguage","defaultFilter","setDefaultFilter","handler","useEffect","settingsFromLocalStorage","Dialog","disableEnforceFocus","open","aria-labelledby","maxWidth","DialogTitle","DialogContent","DialogContentText","ev","option","DialogActions","saveSettings","grow","flexGrow","removedShadow","boxShadow","menuButton","marginRight","search","borderRadius","shape","backgroundColor","fade","common","white","marginLeft","searchIcon","pointerEvents","justifyContent","inputRoot","inputInput","padding","transition","transitions","sectionDesktop","sectionMobile","Header","setOpen","AppBar","Toolbar","noWrap","appSlice","isAuth","user","lastArticleDate","setOverview","count","date","setAuthUser","logout","ErrorBoundary","errorInfo","whiteSpace","componentStack","children","node","NotFound","location","pathname","App","CssBaseline","exact","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnVisibilityChange","draggable","pauseOnHover","combineReducers","app","appReducer","mainReducer","dataReducer","store","configureStore","rootReducer","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"js/main.1800c781d17818cac9df.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([124,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { red, green, orange } from '@material-ui/core/colors';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\n\r\n// A custom theme for this app\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#556cd6',\r\n    },\r\n    secondary: {\r\n      main: '#19857b',\r\n    },\r\n    error: {\r\n      main: '#DC143C',//red.A400,\r\n    },\r\n    success: {\r\n\t\tmain: green.A200,\r\n    },\r\n    background: {\r\n      default: '#fff',\r\n\t},\r\n\tstatus: {\r\n\t\tdanger: '#DC143C',//orange[500]\r\n\t}\r\n  },\r\n});\r\n\r\nexport default theme;\r\n","import { toast } from 'react-toastify';\r\n\r\nfunction ApiError(message, data, status) {\r\n  let response = null;\r\n  let isObject = false;\r\n\r\n  // We are trying to parse response\r\n  try {\r\n    response = JSON.parse(data);\r\n    isObject = true;\r\n  } catch (e) {\r\n    response = data;\r\n  }\r\n\r\n  this.response = response;\r\n  this.message = message;\r\n  this.status = status;\r\n\r\n  toast.error(`Server returned error: ${this.toString()}`, {autoClose:10000});\r\n\r\n  this.toString = function() {\r\n    return `${this.message}\\nResponse:\\n${\r\n      isObject ? JSON.stringify(this.response, null, 2) : this.response\r\n    }`;\r\n  };\r\n}\r\n\r\nexport default ApiError;\r\n","export const API_URL = '//tools.wmflabs.org/completer/';\r\n","import {API_URL} from '../config';\r\n\r\nfunction serialize( obj ) {\r\n    let str = '?'+ Object.keys(obj).reduce(function(a, k){\r\n        a.push(k + '=' + encodeURIComponent(obj[k]));\r\n        return a;\r\n    }, []).join('&');\r\n    return str;\r\n}\r\n\r\nfunction formatURL(url, params) {\r\n\tlet base = '';\r\n\r\n\tif (url.substr(0, 4) == 'http') {\r\n\t\tbase = url;\r\n\t} else if (API_URL !== url.substr(0, API_URL.length)) {\r\n\t\tbase = API_URL + url;\r\n\t}\r\n\r\n\tconst queryString = typeof params == 'undefined' ? '' : serialize(params);\r\n\r\n\treturn `${base}${queryString}`;\r\n}\r\n\r\nexport default formatURL;\r\n","import ApiError from './error';\r\nimport formatURL from './formatURL';\r\n\r\nconst fetchResource = (path, userOptions = {}) => {\r\n\t// Define default options\r\n\tconst defaultOptions = {};\r\n\t// Define default headers\r\n\tconst defaultHeaders = {};\r\n\tconst bodyMethods = ['post', 'put', 'patch'];\r\n\r\n\tconst options = {\r\n\t\t// Merge options\r\n\t\t...defaultOptions,\r\n\t\t...userOptions,\r\n\t\t// Merge headers\r\n\t\theaders: {\r\n\t\t\t...defaultHeaders,\r\n\t\t\t...userOptions.headers\r\n\t\t}\r\n\t};\r\n\r\n\toptions.method = options.method.toLowerCase();\r\n\r\n\t// Detect is we are uploading a file\r\n\tconst isFile = options.body instanceof File;\r\n\r\n\t// Stringify JSON data\r\n\t// If body is not a file\r\n\tif (\r\n\t\toptions.body &&\r\n\t\ttypeof options.body === 'object' &&\r\n\t\t!isFile &&\r\n\t\tbodyMethods.indexOf(options.method) > -1\r\n\t) {\r\n\r\n\t\toptions.headers = {\r\n\t\t\t'Accept': 'application/json',\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t};\r\n\r\n\t\toptions.body = JSON.stringify(options.body);\r\n\t}\r\n\r\n\t// Build Url\r\n\tconst url = formatURL(path, options.params);\r\n\r\n\t// Variable which will be used for storing response\r\n\tlet response = null;\r\n\r\n\treturn (\r\n\t\tfetch(url, options)\r\n\t\t\t.then(responseObject => {\r\n\t\t\t\t// Saving response for later use in lower scopes\r\n\t\t\t\tresponse = responseObject;\r\n\r\n\t\t\t\t// HTTP unauthorized\r\n\t\t\t\t/* if (response.status === 401) {\r\n          // Handle unauthorized requests\r\n          // Maybe redirect to login page?\r\n        } */\r\n\r\n\t\t\t\t// Check for error HTTP error codes\r\n\t\t\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\t\t\t// Get response as text\r\n\t\t\t\t\treturn response.text();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Get response as json\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t// \"parsedResponse\" will be either text or javascript object depending if\r\n\t\t\t// \"response.text()\" or \"response.json()\" got called in the upper scope\r\n\t\t\t.then(parsedResponse => {\r\n\t\t\t\t// Check for HTTP error codes\r\n\t\t\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\t\t\t// Throw error\r\n\t\t\t\t\tthrow parsedResponse;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Request succeeded\r\n\t\t\t\treturn parsedResponse;\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\t// Throw custom API error\r\n\t\t\t\t// If response exists it means HTTP error occured\r\n\t\t\t\tif (response) {\r\n\t\t\t\t\tthrow new ApiError(\r\n\t\t\t\t\t\t`Request failed with status ${response.status}.`,\r\n\t\t\t\t\t\terror,\r\n\t\t\t\t\t\tresponse.status\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new ApiError(error.toString(), null, 'REQUEST_FAILED');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t);\r\n};\r\n\r\nconst get = (path, params = {}) => {\r\n\treturn fetchResource(path, { params, method: 'get' });\r\n};\r\n\r\nconst post = (path, body = {}) => {\r\n\treturn fetchResource(path, { body, method: 'post' });\r\n};\r\n\r\nconst put = (path, body = {}) => {\r\n\treturn fetchResource(path, { body, method: 'put' });\r\n};\r\n\r\nexport default fetchResource;\r\n\r\nexport { get, post, put };\r\n","import {get, post} from './api';\r\n\r\nconst tool = {\r\n\tsubmit: (data) => post('data',{info:data}),\r\n\treqData: (id) => get(`req_data/${id}`),\r\n}\r\n\r\nconst apiWrapper = {\r\n\ttool\r\n}\r\n\r\nexport default apiWrapper;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport api from '../../api/methods';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst slice = createSlice({\r\n\tname: 'main',\r\n\tinitialState: { from: null, to: null, filters: null },\r\n\treducers: {\r\n\t\tsetData: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { from, to, filters } = action.payload;\r\n\t\t\t\treturn { ...state, from, to, filters };\r\n\t\t\t},\r\n\t\t\tprepare(from, to, filters) {\r\n\t\t\t\treturn { payload: { from, to, filters } };\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n});\r\n\r\nconst {\r\n\tsetData\r\n} = slice.actions;\r\n\r\nconst setRequestData = (from, to, filters) => (dispatch) => {\r\n\tdispatch(setData(from, to, filters));\r\n};\r\n\r\nexport { setRequestData };\r\n\r\nexport default slice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport api from '../../api/methods';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst initState = { error: false, errorMessage: null, loading: false, hasRequested: false, list: [], reachedMaxStatementTime: false, completionTime: null, reqID: null, isCached: false, cacheAge: null };\r\n\r\nconst slice = createSlice({\r\n\tname: 'data',\r\n\tinitialState: initState,\r\n\treducers: {\r\n\t\tsetData: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconsole.log(action.payload)\r\n\t\t\t\treturn { ...state, ...action.payload };\r\n\t\t\t},\r\n\t\t\tprepare(props) {\r\n\t\t\t\treturn { payload: props };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetLoading: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\treturn { ...state, loading: action.payload.value };\r\n\t\t\t},\r\n\t\t\tprepare(newValue) {\r\n\t\t\t\treturn { payload: {value: newValue} };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetInit: {\r\n\t\t\treducer(state) {\r\n\t\t\t\treturn { ...initState, loading: state.loading };\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n});\r\n\r\nconst {\r\n\tsetData,\r\n\tsetLoading,\r\n\tsetInit\r\n} = slice.actions;\r\n\r\nconst getData = (ignoreCache=false) => (dispatch, getState) => {\r\n\tconst { from, to, filters } = getState().main;\r\n\r\n\tdispatch(setLoading(true));\r\n\tdispatch(setInit());\r\n\r\n\tconst dataToSend = {\r\n\t\tfrom,\r\n\t\tto,\r\n\t\tfilters,\r\n\t\tignoreCache\r\n\t}\r\n\r\n\tapi.tool.submit(dataToSend)\r\n\t.then(res => {\r\n\t\tconst {data, success, meta} = res;\r\n\t\tif (success === true) {\r\n\t\t\tdispatch(setData({\r\n\t\t\t\thasRequested: true,\r\n\t\t\t\tlist: data,\r\n\t\t\t\tcompletionTime: meta.time,\r\n\t\t\t\treachedMaxStatementTime: meta.reachedMaxStatementTime,\r\n\t\t\t\treqID: meta.id,\r\n\t\t\t\tisCached: meta.cached,\r\n\t\t\t\terror: false,\r\n\t\t\t\tcacheAge: meta.cache_age\r\n\t\t\t}));\r\n\t\t} else {\r\n\t\t\tdispatch(setData({\r\n\t\t\t\thasRequested: true,\r\n\t\t\t\terror: true,\r\n\t\t\t\terrorMessage: meta.message\r\n\t\t\t}));\r\n\t\t}\r\n\t})\r\n\t.catch(err => {\r\n\t\tdispatch(setData({\r\n\t\t\thasRequested: true,\r\n\t\t\terror: true\r\n\t\t}));\r\n\t})\r\n\t.finally(() => {\r\n\t\tdispatch(setLoading(false));\r\n\t})\r\n};\r\n\r\nexport { getData };\r\n\r\nexport default slice.reducer;\r\n\r\n/*\r\n'data': requestData,\r\n\t\t\t'success': True,\r\n\t\t\t'meta': {\r\n\t\t\t\t'time': \"{0:.2f}\".format(reqTime),\r\n\t\t\t\t'id': reqID,\r\n\t\t\t\t'cached': isCached,\r\n\t\t\t\t'cache_age': None if not isCached else cacheAge\r\n\t\t\t}\r\n*/\r\n","class SettingsHandler {\r\n\tgetSettings = () => {\r\n\t\tconst defaults = localStorage.getItem('completer-tool');\r\n\t\tif (defaults == null) {\r\n\t\t\treturn {filter: '',from:'',to:''};\r\n\t\t}\r\n\r\n\t\tconst parsed = JSON.parse(defaults);\r\n\r\n\t\treturn parsed;\r\n\t}\r\n\r\n\tsaveSettings = (props) => {\r\n\t\tlocalStorage.setItem('completer-tool', JSON.stringify(props));\r\n\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nexport default SettingsHandler;\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport apiWrapper from '../../api/methods';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { setRequestData } from '../ToolPage/slice';\r\nimport { getData } from '../ResultsList/slice';\r\n\r\nimport SettingsHandler from '../Settings/handler';\r\n\r\nconst styles = theme => ({\r\n\troot: {\r\n\t\t'& .MuiTextField-root': {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\twidth: 200\r\n\t\t}\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120\r\n\t},\r\n\tselectEmpty: {\r\n\t\tmarginTop: theme.spacing(2)\r\n\t},\r\n\tmargin: {\r\n\t\tmargin: theme.spacing(1)\r\n\t}\r\n});\r\n\r\nconst filterProperties = {\r\n\tcategory: { title: '', depth: 0, talk: false },\r\n\ttemplate: { title: '', talk: false },\r\n\tpetscan: { id: '' }\r\n};\r\n\r\nconst filterPlaceholder = { type: 'category', specific: { title: '', depth: 0, talk: false } };\r\n\r\nclass QueryFilter extends Component {\r\n\tsettingsHandler = null;\r\n\tstate = {\r\n\t\tfilterChanged: false,\r\n\t\tinputLanguage: '',\r\n\t\tproject: 'wikipedia',\r\n\t\ttargetLanguage: '',\r\n\t\ttitleLanguage: '',\r\n\t\toutput: 'list',\r\n\t\toutputOptions: ['list', 'json', 'table'],\r\n\t\tonlyArticles: true,\r\n\t\tfilters: [\r\n\t\t\tfilterPlaceholder\r\n\t\t\t//{ type: 'template', specific: { title: '', talk: false } },\r\n\t\t\t//{ type: 'petscan', specific: { id: '' } }\r\n\t\t\t//{ type: 'pagelinks', specific: { title: '', mode:'linksto' } },//'linksfrom'\r\n\t\t\t//{ type: null },\r\n\t\t]\r\n\t};\r\n\r\n\thandleChange = event => {\r\n\t\tconst { name, value, checked, type } = event.target;\r\n\r\n\t\tthis.setState({ [name]: type === 'checkbox' ? checked : value });\r\n\t};\r\n\r\n\thandleFilterChange = filterIndex => event => {\r\n\t\tconst { name, value, checked, type } = event.target;\r\n\t\tconst inputValue = type === 'checkbox' ? checked : value;\r\n\r\n\t\tconst newFilter = [...this.state.filters];\r\n\r\n\t\tif (name === 'type') {\r\n\t\t\tnewFilter[filterIndex] = {\r\n\t\t\t\tspecific: filterProperties[inputValue],\r\n\t\t\t\t[name]: inputValue\r\n\t\t\t};\r\n\t\t\tthis.setState({ filters: newFilter, filterChanged: true });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (inputValue.length > 0 && name === 'depth') {\r\n\t\t\tconst numericalValue = parseInt(inputValue);\r\n\t\t\tif (numericalValue > 10 || numericalValue < 0) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet currentFilter = newFilter[filterIndex];\r\n\r\n\t\tcurrentFilter = {\r\n\t\t\t...currentFilter,\r\n\t\t\tspecific: {\r\n\t\t\t\t...currentFilter.specific,\r\n\t\t\t\t[name]: inputValue\r\n\t\t\t}\r\n\t\t};\r\n\t\tnewFilter[filterIndex] = currentFilter;\r\n\r\n\t\tthis.setState({ filters: newFilter, filterChanged: true });\r\n\t};\r\n\r\n\tremoveFilter = ind => {\r\n\t\tthis.setState({\r\n\t\t\tfilters: this.state.filters.filter((item, counter) => counter !== ind),\r\n\t\t\tfilterChanged: true\r\n\t\t});\r\n\t};\r\n\r\n\taddFilter = ind => {\r\n\t\t//teorētiski jau varētu ielikt kā nākamo pēc 'ind'\r\n\t\tthis.setState({\r\n\t\t\tfilters: [\r\n\t\t\t\t...this.state.filters,\r\n\t\t\t\t{ type: 'category', specific: filterProperties.category }\r\n\t\t\t],\r\n\t\t\tfilterChanged: true\r\n\t\t});\r\n\t};\r\n\r\n\tsubmit = () => {\r\n\t\tconst { inputLanguage, targetLanguage, titleLanguage, filters, filterChanged } = this.state;\r\n\t\tif (filterChanged) {\r\n\t\t\tthis.props.history.push('/');\r\n\t\t\tthis.setState({ filterChanged: false });\r\n\t\t}\r\n\r\n\t\tif (inputLanguage == '') {\r\n\t\t\ttoast.warn(`Please add input language`, { autoClose: 7500 });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (targetLanguage == '') {\r\n\t\t\ttoast.warn(`Please add target language`, { autoClose: 7500 });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (inputLanguage === targetLanguage) {\r\n\t\t\ttoast.warn(`Input and target languages are the same!`, { autoClose: 7500 });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (filters.length === 0) {\r\n\t\t\ttoast.warn(`Add at least one filter`, { autoClose: 7500 });\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet wasFilterError = false;\r\n\t\tfilters.forEach((item, ind) => {\r\n\t\t\tif (wasFilterError) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tconst { type, specific } = item;\r\n\t\t\tif (type === 'category') {\r\n\t\t\t\tif (specific.title === '') {\r\n\t\t\t\t\ttoast.warn(`Please fill filter nr. ${ind + 1}`, { autoClose: 7500 });\r\n\t\t\t\t\twasFilterError = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'template') {\r\n\t\t\t\tif (specific.title === '') {\r\n\t\t\t\t\ttoast.warn(`Please fill filter nr. ${ind + 1}`, { autoClose: 7500 });\r\n\t\t\t\t\twasFilterError = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 'petscan') {\r\n\t\t\t\tif (specific.id === '') {\r\n\t\t\t\t\ttoast.warn(`Please fill filter nr. ${ind + 1}`, { autoClose: 7500 });\r\n\t\t\t\t\twasFilterError = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif (wasFilterError) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.props.setRequestData(inputLanguage, targetLanguage, filters);\r\n\t\tthis.props.getData();\r\n\t};\r\n\r\n\thandleURLParams = () => {\r\n\t\tconsole.log(this.props.match.params);\r\n\t\tconst { id, auto, data, type } = this.props.match.params;\r\n\t\tif (id) {\r\n\t\t\tapiWrapper.tool.reqData(id).then(res => {\r\n\t\t\t\tif ('error' in res) {\r\n\t\t\t\t\ttoast.error(`No such request ID`, { autoClose: 10000 });\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tfilters: [filterPlaceholder],\r\n\t\t\t\t\t\tinputLanguage: '',\r\n\t\t\t\t\t\ttargetLanguage: ''\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst { filters, from, to } = res;\r\n\t\t\t\tthis.setState(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfilters,\r\n\t\t\t\t\t\tinputLanguage: from,\r\n\t\t\t\t\t\ttargetLanguage: to\r\n\t\t\t\t\t},\r\n\t\t\t\t\t() => {\r\n\t\t\t\t\t\tif (auto === 'auto') {\r\n\t\t\t\t\t\t\tthis.submit();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t} else if (data) {\r\n\t\t\t//console.log(data)\r\n\t\t\tconst parsedData = JSON.parse(data);\r\n\t\t\t//console.log(parsedData)\r\n\t\t\tconst { from, to, filters } = parsedData;\r\n\r\n\t\t\tlet formattedFilters = [];\r\n\r\n\t\t\tfilters.forEach(entry => {\r\n\t\t\t\tconst {\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\tspecific: { title, depth, id }\r\n\t\t\t\t} = entry;\r\n\t\t\t\tif (!type) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'template') {\r\n\t\t\t\t\tformattedFilters.push({\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tspecific: { ...filterProperties.template, title }\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'petscan') {\r\n\t\t\t\t\tformattedFilters.push({ type, specific: { ...filterProperties.petscan, id } });\r\n\t\t\t\t}\r\n\t\t\t\tif (type === 'category') {\r\n\t\t\t\t\tformattedFilters.push({\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tspecific: { ...filterProperties.category, title, depth }\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tif (formattedFilters.length < 1) {\r\n\t\t\t\tformattedFilters.push(filterPlaceholder);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\ttargetLanguage: to,\r\n\t\t\t\tinputLanguage: from,\r\n\t\t\t\tfilters: formattedFilters\r\n\t\t\t});\r\n\t\t} else if (type) {\r\n\t\t\tconst { from, to, depth, name } = this.props.match.params;\r\n\t\t\tlet finalFilter = {};\r\n\r\n\t\t\tif (type === 'template') {\r\n\t\t\t\tfinalFilter = { type, specific: { ...filterProperties.template, title: name } };\r\n\t\t\t}\r\n\t\t\tif (type === 'petscan') {\r\n\t\t\t\tfinalFilter = { type, specific: { ...filterProperties.petscan, id: name } };\r\n\t\t\t}\r\n\t\t\tif (type === 'category') {\r\n\t\t\t\tfinalFilter = {\r\n\t\t\t\t\ttype,\r\n\t\t\t\t\tspecific: { ...filterProperties.category, title: name, depth }\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\ttargetLanguage: to,\r\n\t\t\t\tinputLanguage: from,\r\n\t\t\t\tfilters: [finalFilter]\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tconst { from, to, filter } = this.settingsHandler.getSettings();\r\n\r\n\t\t\tconst newFilters =\r\n\t\t\t\tfilter === ''\r\n\t\t\t\t\t? [filterPlaceholder]\r\n\t\t\t\t\t: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tspecific: filterProperties[filter],\r\n\t\t\t\t\t\t\t\ttype: filter\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t  ];\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\ttargetLanguage: to,\r\n\t\t\t\tinputLanguage: from,\r\n\t\t\t\tfilters: newFilters\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.settingsHandler = new SettingsHandler();\r\n\t\tthis.handleURLParams();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif (\r\n\t\t\tthis.props.match.params.id !== prevProps.match.params.id ||\r\n\t\t\tthis.props.match.params.auto !== prevProps.match.params.auto ||\r\n\t\t\tthis.props.match.params.data !== prevProps.match.params.data ||\r\n\t\t\tthis.props.match.params.type !== prevProps.match.params.type\r\n\t\t) {\r\n\t\t\tthis.handleURLParams();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { inputLanguage, targetLanguage, onlyArticles, filters } = this.state;\r\n\t\tconst { classes, dataLoading } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel='Input language'\r\n\t\t\t\t\tname='inputLanguage'\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tvalue={inputLanguage}\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel='Without interwiki to'\r\n\t\t\t\t\tname='targetLanguage'\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tvalue={targetLanguage}\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t/>\r\n\t\t\t\t{/* <TextField\r\n\t\t\t\t\tlabel='Use titles from this language'\r\n\t\t\t\t\tname='titleLanguage'\r\n\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\tvalue={titleLanguage}\r\n\t\t\t\t\tsize='small'\r\n\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\tmargin='dense'\r\n\t\t\t\t/> */}\r\n\t\t\t\t{/* <FormControlLabel\r\n\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\tchecked={onlyArticles}\r\n\t\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t\t\tname='onlyArticles'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlabel='Include only articles'\r\n\t\t\t\t/> */}\r\n\t\t\t\t<br />\r\n\t\t\t\t{filters.map((item, ind) => {\r\n\t\t\t\t\tconst { type, specific } = item;\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={ind}>\r\n\t\t\t\t\t\t\t<Divider light />\r\n\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\tclassName={classes.margin}\r\n\t\t\t\t\t\t\t\tonClick={() => this.addFilter(ind)}>\r\n\t\t\t\t\t\t\t\t<AddIcon fontSize='small' />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t{filters.length > 1 && (\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\taria-label='delete'\r\n\t\t\t\t\t\t\t\t\tclassName={classes.margin}\r\n\t\t\t\t\t\t\t\t\tonClick={() => this.removeFilter(ind)}>\r\n\t\t\t\t\t\t\t\t\t<DeleteIcon fontSize='small' />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\t\tlabel='Filter type'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\tname='type'\r\n\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\tvalue={type}>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'category'}>Category</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'petscan'}>Petscan</MenuItem>\r\n\t\t\t\t\t\t\t\t<MenuItem value={'template'}>Template</MenuItem>\r\n\t\t\t\t\t\t\t</TextField>\r\n\r\n\t\t\t\t\t\t\t{type === 'category' && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tlabel='Category title'\r\n\t\t\t\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={specific.title}\r\n\t\t\t\t\t\t\t\t\t\t//size='small'\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ margin: 8, width: '300px' }}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tlabel='Depth'\r\n\t\t\t\t\t\t\t\t\t\tname='depth'\r\n\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\tinputProps={{ min: '0', max: '10', step: '1' }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={specific.depth}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{/* <FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={specific.talk}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\tname='talk'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel='Use talk pages instead'\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{type === 'template' && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tlabel='Template title'\r\n\t\t\t\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={specific.title}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ margin: 8, width: '300px' }}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{/* <FormControlLabel\r\n\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\t\tchecked={specific.talk}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\tname='talk'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tlabel='Use talk pages instead'\r\n\t\t\t\t\t\t\t\t/> */}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{type === 'pagelinks' && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tlabel='Article title'\r\n\t\t\t\t\t\t\t\t\t\tname='title'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={specific.title}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControl variant='outlined' className={classes.formControl}>\r\n\t\t\t\t\t\t\t\t\t\t<InputLabel htmlFor='outlined-age-simple'>Mode</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={specific.mode}\r\n\t\t\t\t\t\t\t\t\t\t\tname='mode'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\t\tinput={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<OutlinedInput\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname='age'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid='outlined-age-simple'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'linksto'}>WhatLinksHere</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={'linksfrom'}>Links on page</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{type === 'petscan' && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tlabel='Petscan ID'\r\n\t\t\t\t\t\t\t\t\t\tname='id'\r\n\t\t\t\t\t\t\t\t\t\tonChange={this.handleFilterChange(ind)}\r\n\t\t\t\t\t\t\t\t\t\tvalue={specific.id}\r\n\t\t\t\t\t\t\t\t\t\tsize='small'\r\n\t\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ margin: 8, width: '300px' }}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t\t<Button\r\n\t\t\t\t\tdisabled={dataLoading}\r\n\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\tdisableelevation='true'\r\n\t\t\t\t\tonClick={this.submit}>\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</Button>\r\n\t\t\t\t<div style={{ marginBottom: '15px' }} />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nQueryFilter.propTypes = {\r\n\tclasses: PropTypes.object\r\n};\r\n\r\nconst mapDispatchToProps = { setRequestData, getData };\r\nconst mapStateToProps = state => ({\r\n\tdataLoading: state.data.loading\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles, { withTheme: true })(withRouter(QueryFilter)));\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcol3: {\r\n\t\tcolumnCount: 1,\r\n\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tcolumnCount: 2\r\n\t\t},\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tcolumnCount: 3\r\n\t\t}\r\n\t},\r\n\tcol2: {\r\n\t\tcolumnCount: 2\r\n\t},\r\n\tremovedUnderline: {\r\n\t\ttextDecoration: 'none'\r\n\t}\r\n}));\r\n\r\nconst ArticleList = ({ list, language }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.col3}>\r\n\t\t\t<ul>\r\n\t\t\t\t{list.map(item => {\r\n\t\t\t\t\tconst [article, iws] = item;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<li key={article}>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName={classes.removedUnderline}\r\n\t\t\t\t\t\t\t\thref={`https://${language}.wikipedia.org/wiki/${article}`}\r\n\t\t\t\t\t\t\t\ttarget='_blank'>\r\n\t\t\t\t\t\t\t\t{article.replace(/_/g, ' ')}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t: {iws}\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Wikilist = ({ list, language }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.col3}>\r\n\t\t\t\t{list.map(item => {\r\n\t\t\t\t\tconst [article, iws] = item;\r\n\t\t\t\t\tconst formattedTitle = article.replace(/_/g, ' ');\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div key={article}>\r\n\t\t\t\t\t\t\t{'* '}{'[['}<a\r\n\t\t\t\t\t\t\t\tclassName={classes.removedUnderline}\r\n\t\t\t\t\t\t\t\thref={`https://${language}.wikipedia.org/wiki/${article}`}\r\n\t\t\t\t\t\t\t\ttarget='_blank'>\r\n\t\t\t\t\t\t\t\t{formattedTitle}\r\n\t\t\t\t\t\t\t</a>{']]'}\r\n\t\t\t\t\t\t\t: {iws}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport {\r\n\tArticleList, Wikilist\r\n};\r\n","import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getData } from './slice';\r\n\r\nimport clsx from 'clsx';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\n\r\nimport { Wikilist, ArticleList } from './as_list';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst styles = theme => ({\r\n\troot: {\r\n\t\t'& .MuiTextField-root': {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\twidth: 200\r\n\t\t}\r\n\t},\r\n\tloadingPage: {\r\n\t\tdisplay: 'flex',\r\n\t\tmargin: '0 auto'\r\n\t},\r\n\tloadingPageWrapper: {\r\n\t\tposition: 'fixed',\r\n\t\twidth: '100%',\r\n\t\theight: '100%',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\ttop: '0'\r\n\t},\r\n\tinfoText: {\r\n\t\tfontSize: '0.8rem'\r\n\t},\r\n\tloadWithoutCache: {\r\n\t\tcursor: 'pointer'\r\n\t},\r\n\tfloatRight: {\r\n\t\tfloat: 'right'\r\n\t},\r\n\tflexContainer: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'end'\r\n\t},\r\n\tclipboardButton: {\r\n\t\tmarginTop: '7px'\r\n\t},\r\n\tformatButtons: {\r\n\t\tmarginTop: '7px'\r\n\t}\r\n});\r\n\r\nconst formatForClipboard = (lang, data) => {\r\n\tconst items = [];\r\n\r\n\tdata.forEach(item => {\r\n\t\tconst [article, iws] = item;\r\n\t\tconst formattedTitle = article.replace(/_/g, ' ');\r\n\r\n\t\titems.push(`* [[:${lang}:${formattedTitle}|${formattedTitle}]]: ${iws}`);\r\n\t});\r\n\r\n\treturn items.join('\\n');\r\n};\r\n\r\n//https://lv.wikipedia.org/api/rest_v1/page/summary/J%C5%ABd%C5%BE%C4%ABna\r\nclass ResultsList extends Component {\r\n\tstate = {\r\n\t\tanchorEl: null,\r\n\t\tresultFormat: 'list'\r\n\t};\r\n\r\n\treloadWithoutCache = () => {\r\n\t\tthis.props.getData(true);\r\n\t};\r\n\r\n\tsetFormat = newValue => {\r\n\t\tthis.setState({ resultFormat: newValue });\r\n\t};\r\n\r\n\tcopyDataToClipboard = () => {\r\n\t\tconst { language, articles } = this.props;\r\n\r\n\t\tconst text = formatForClipboard(language, articles);\r\n\r\n\t\tnavigator.clipboard.writeText(text).then(\r\n\t\t\tfunction() {\r\n\t\t\t\ttoast.success('Copied to clipboard!');\r\n\t\t\t},\r\n\t\t\tfunction(err) {\r\n\t\t\t\ttoast.success('Could not copy to clipboard!');\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { anchorEl, resultFormat } = this.state;\r\n\t\tconst {\r\n\t\t\tclasses,\r\n\t\t\terrorMessage,\r\n\t\t\tloading,\r\n\t\t\terror,\r\n\t\t\tarticles,\r\n\t\t\ttime,\r\n\t\t\tisCached,\r\n\t\t\tcacheAge,\r\n\t\t\tlanguage,\r\n\t\t\treqID,\r\n\t\t\thasRequested,\r\n\t\t\treachedMaxStatementTime\r\n\t\t} = this.props;\r\n\r\n\t\tconst open = Boolean(anchorEl);\r\n\r\n\t\tif (loading) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className={classes.loadingPageWrapper}>\r\n\t\t\t\t\t<CircularProgress className={classes.loadingPage} />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (!hasRequested) {\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\tif (error && errorMessage) {\r\n\t\t\treturn <Typography component={'div'} variant='body1'>{`Error occurred: ${errorMessage}`}</Typography>\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Divider />\r\n\t\t\t\t<div style={{ marginTop: '10px' }} />\r\n\t\t\t\t<Typography component={'div'} variant='body1'>\r\n\t\t\t\t\t{reqID && (\r\n\t\t\t\t\t\t<div className={clsx(classes.floatRight, classes.flexContainer)}>\r\n\t\t\t\t\t\t\t<div className={classes.reqLinks}>\r\n\t\t\t\t\t\t\t\tRequest {reqID}: <Link to={`/${reqID}/auto`}>with autoload</Link>,{' '}\r\n\t\t\t\t\t\t\t\t<Link to={`/${reqID}`}>without autoload</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{/* <div className={classes.formatButtons}>\r\n\t\t\t\t\t\t\t\t<ButtonGroup color='primary'>\r\n\t\t\t\t\t\t\t\t\t<Button variant={resultFormat === 'list' ? \"contained\": \"\"} onClick={() => this.setFormat('list')}>List</Button>\r\n\t\t\t\t\t\t\t\t\t<Button variant={resultFormat === 'wikilist' ? \"contained\": \"\"} onClick={() => this.setFormat('wikilist')}>Wikilist</Button>\r\n\t\t\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t{articles.length > 0 &&\r\n\t\t\t\t\t\t\t<div className={classes.clipboardButton}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\t\t\t\tonClick={this.copyDataToClipboard}>\r\n\t\t\t\t\t\t\t\t\tCopy list to clipboard\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</div>}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{articles.length > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{isCached && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.infoText}>\r\n\t\t\t\t\t\t\t\t\t\tShowing {cacheAge} seconds old cached version of list.{' '}\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.loadWithoutCache}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.reloadWithoutCache}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tLoad live data!\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\r\n\t\t\t\t\t\t\t{resultFormat === 'list' && (\r\n\t\t\t\t\t\t\t\t<ArticleList list={articles} language={language} />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{resultFormat === 'wikilist' && (\r\n\t\t\t\t\t\t\t\t<Wikilist list={articles} language={language} />\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<span className={classes.infoText}>\r\n\t\t\t\t\t\t\t\tQuery took {time} seconds to complete\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : <>\r\n\r\n\t\t\t\t\t{reachedMaxStatementTime && <div className={classes.infoText}>\r\n\t\t\t\t\t\t\t\t\t\tOne or more queries took too long to execute, so these may be incomplete results\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t\tNo data\r\n\t\t\t\t\t</>}\r\n\t\t\t\t</Typography>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nResultsList.propTypes = {\r\n\tclasses: PropTypes.object\r\n};\r\n\r\nconst mapDispatchToProps = { getData };\r\n\r\nconst mapStateToProps = ({ data, main }) => ({\r\n\tloading: data.loading,\r\n\terrorMessage: data.errorMessage,\r\n\terror: data.error,\r\n\tarticles: data.list,\r\n\ttime: data.completionTime,\r\n\tisCached: data.isCached,\r\n\tcacheAge: data.cacheAge,\r\n\treqID: data.reqID,\r\n\thasRequested: data.hasRequested,\r\n\tlanguage: main.from,\r\n\treachedMaxStatementTime: data.reachedMaxStatementTime\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps\r\n)(withStyles(styles, { withTheme: true })(ResultsList));\r\n","import React from 'react';\r\nimport QueryFilter from '../QueryFilter';\r\nimport ResultsList from '../ResultsList';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst MainPage = () => {\r\n\treturn (\r\n\t\t<div style={{margin:'2vw'}}>\r\n\t\t\t<Typography variant='h4'>Missing articles</Typography>\r\n\t\t\t<Typography style={{marginBottom: '10px'}} component={'div'} variant='body1'>\r\n\t\t\t\tList articles from one Wikipedia containing the most interwikis without article in\r\n\t\t\t\ttarget Wikipedia\r\n\t\t\t</Typography>\r\n\t\t\t<QueryFilter />\r\n\t\t\t<ResultsList />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default MainPage;\r\n","import React, {useEffect} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport SettingsHandler from './handler';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\t'& .MuiTextField-root': {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\twidth: 200\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nfunction Settings({ modalOpenHandle, isOpen }) {\r\n\tconst classes = useStyles();\r\n\tconst [inputLanguage, setInputLanguage] = React.useState('');\r\n\tconst [targetLanguage, setTargetLanguage] = React.useState('');\r\n\tconst [defaultFilter, setDefaultFilter] = React.useState('');\r\n\tlet handler = new SettingsHandler();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst settingsFromLocalStorage = handler.getSettings();\r\n\t\tsetInputLanguage(settingsFromLocalStorage['from']);\r\n\t\tsetTargetLanguage(settingsFromLocalStorage['to']);\r\n\t\tsetDefaultFilter(settingsFromLocalStorage['filter']);\r\n\t}, []);\r\n\r\n\tconst handleClose = () => {\r\n\t\tmodalOpenHandle(false);\r\n\t};\r\n\r\n\tconst handleSave = () => {\r\n\t\tconst status = handler.saveSettings({from:inputLanguage,to:targetLanguage,filter:defaultFilter});\r\n\t\tif (status) {\r\n\t\t\ttoast.success('Saved settings!');\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\tfullWidth={true}\r\n\t\t\t\tdisableEnforceFocus={false}\r\n\t\t\t\topen={isOpen}\r\n\t\t\t\taria-labelledby='form-dialog-title'\r\n\t\t\t\tmaxWidth='sm'>\r\n\t\t\t\t<DialogTitle id='form-dialog-title'>Settings</DialogTitle>\r\n\t\t\t\t<DialogContent>\r\n\t\t\t\t\t<DialogContentText>\r\n\t\t\t\t\t\tYour settings will be remembered on the same browser and computer.\r\n\t\t\t\t\t</DialogContentText>\r\n\t\t\t\t\t<div className={classes.root}>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\tlabel='Default input language'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tonChange={ev => setInputLanguage(ev.target.value)}\r\n\t\t\t\t\t\t\tvalue={inputLanguage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\tlabel='Default target language'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tonChange={ev => setTargetLanguage(ev.target.value)}\r\n\t\t\t\t\t\t\tvalue={targetLanguage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tmargin='dense'\r\n\t\t\t\t\t\t\tselect\r\n\t\t\t\t\t\t\tlabel='Default filter'\r\n\t\t\t\t\t\t\tvalue={defaultFilter}\r\n\t\t\t\t\t\t\tonChange={ev => setDefaultFilter(ev.target.value)}>\r\n\t\t\t\t\t\t\t{['','category', 'petscan', 'template'].map(option => (\r\n\t\t\t\t\t\t\t\t<MenuItem key={option} value={option}>\r\n\t\t\t\t\t\t\t\t\t{option}\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</TextField>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button onClick={handleSave} color='secondary'>\r\n\t\t\t\t\t\tSave\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button onClick={handleClose} color='primary'>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Settings;\r\n","import React, {useState, useEffect} from 'react';\r\nimport { fade, makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { Link, NavLink, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\nimport BugReportIcon from '@material-ui/icons/BugReport';\r\n\r\nimport Settings from '../Settings';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tgrow: {\r\n\t\tflexGrow: 1\r\n\t},\r\n\tremovedShadow: {\r\n\t\tboxShadow: '0px 1px 1px 0px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 1px 0px rgba(0,0,0,0.12)'\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2)\r\n\t},\r\n\ttitle: {\r\n\t\tdisplay: 'none',\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tdisplay: 'block'\r\n\t\t}\r\n\t},\r\n\tsearch: {\r\n\t\tposition: 'relative',\r\n\t\tborderRadius: theme.shape.borderRadius,\r\n\t\tbackgroundColor: fade(theme.palette.common.white, 0.15),\r\n\t\t'&:hover': {\r\n\t\t\tbackgroundColor: fade(theme.palette.common.white, 0.25)\r\n\t\t},\r\n\t\tmarginRight: theme.spacing(2),\r\n\t\tmarginLeft: 0,\r\n\t\twidth: '100%',\r\n\t\t[theme.breakpoints.up('sm')]: {\r\n\t\t\tmarginLeft: theme.spacing(3),\r\n\t\t\twidth: 'auto'\r\n\t\t}\r\n\t},\r\n\tsearchIcon: {\r\n\t\twidth: theme.spacing(7),\r\n\t\theight: '100%',\r\n\t\tposition: 'absolute',\r\n\t\tpointerEvents: 'none',\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center'\r\n\t},\r\n\tinputRoot: {\r\n\t\tcolor: 'inherit'\r\n\t},\r\n\tinputInput: {\r\n\t\tpadding: theme.spacing(1, 1, 1, 7),\r\n\t\ttransition: theme.transitions.create('width'),\r\n\t\twidth: '100%',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\twidth: 200\r\n\t\t}\r\n\t},\r\n\tsectionDesktop: {\r\n\t\tdisplay: 'none',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tdisplay: 'flex'\r\n\t\t}\r\n\t},\r\n\tsectionMobile: {\r\n\t\tdisplay: 'flex',\r\n\t\t[theme.breakpoints.up('md')]: {\r\n\t\t\tdisplay: 'none'\r\n\t\t}\r\n\t}\r\n}));\r\n\r\nfunction Header() {\r\n\tconst classes = useStyles();\r\n\tconst [open, setOpen] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpen(open);\r\n\t}, [open]);\r\n\r\n\tconst handleModalToggle = (newValue) => {\r\n\t\tsetOpen(newValue);\r\n\t}\r\n\r\n\treturn (<>\r\n\t\t<div className={classes.grow}>\r\n\t\t\t<AppBar position='sticky' className={classes.removedShadow}>\r\n\t\t\t\t<Toolbar>\r\n\t\t\t\t\t<NavLink to='/' style={{ textDecoration: 'none', color: 'unset' }}>\r\n\t\t\t\t\t\t<Typography className={classes.title} variant='h6' noWrap>\r\n\t\t\t\t\t\t\tWikiCompleter\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</NavLink>\r\n\t\t\t\t\t<div className={classes.grow} />\r\n\t\t\t\t\t<MenuItem onClick={() => setOpen(true)}>\r\n\t\t\t\t\t\tSettings\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t<MenuItem onClick={() => window.open(`https://github.com/kosovojs/missing-tool`)}>\r\n\t\t\t\t\t\t<GitHubIcon />\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t<MenuItem onClick={() => window.open(`https://github.com/kosovojs/missing-tool/issues`)}>\r\n\t\t\t\t\t\t<BugReportIcon />\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t</Toolbar>\r\n\t\t\t</AppBar>\r\n\t\t</div>\r\n\t\t\t{open && <Settings isOpen={open} modalOpenHandle={handleModalToggle} />}\r\n\t\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport api from '../../api/methods';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst appSlice = createSlice({\r\n\tname: 'app',\r\n\tinitialState: { isAuth: false, user: null, articles: null, lastArticleDate: null },\r\n\treducers: {\r\n\t\tsetOverview: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { count, date } = action.payload;\r\n\t\t\t\treturn { ...state, articles: count, lastArticleDate: date };\r\n\t\t\t},\r\n\t\t\tprepare(count, date) {\r\n\t\t\t\treturn { payload: { count, date } };\r\n\t\t\t}\r\n\t\t},\r\n\t\tsetAuthUser: {\r\n\t\t\treducer(state, action) {\r\n\t\t\t\tconst { user } = action.payload;\r\n\t\t\t\treturn { ...state, user, isAuth: true };\r\n\t\t\t},\r\n\t\t\tprepare(user) {\r\n\t\t\t\treturn { payload: { user } };\r\n\t\t\t}\r\n\t\t},\r\n\t\tlogout: {\r\n\t\t\treducer(state) {\r\n\t\t\t\treturn { ...state, user: null, isAuth: false };\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n});\r\n\r\nconst {\r\n\tsetOverview,\r\n\tsetAuthUser,\r\n\tlogout\r\n} = appSlice.actions;\r\n\r\nconst checkStatus = () => (dispatch, getState) => {\r\n\t//const { id, fetching } = getState().article;\r\n\r\n\tapi.tool.check().then(res => {\r\n\t\tif ('error' in res) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t//const fakeRes = {\"batchcomplete\":\"\",\"query\":{\"userinfo\":{\"id\":9590,\"name\":\"Edgars2007\",\"groups\":[\"bureaucrat\",\"interface-admin\",\"sysop\",\"*\",\"user\",\"autoconfirmed\"],\"rights\":[\"autopatrol\",\"autoconfirmed\",\"editsemiprotected\",\"ipblock-exempt\",\"skipcaptcha\",\"abusefilter-log-detail\",\"flow-edit-post\",\"read\",\"edit\",\"writeapi\",\"abusefilter-view\",\"abusefilter-log\",\"flow-hide\",\"minoredit\",\"purge\",\"applychangetags\",\"changetags\"]}}};\r\n\r\n\t\tconst userName = res.query.userinfo.name;\r\n\r\n\t\tdispatch(setAuthUser(userName));\r\n\r\n\r\n\t\t//console.log(res)\r\n\t\t//{\"article\":{\"id\":\"1947\",\"title\":\"Simona Krupeckaite\"},\"results\":\"5433\",\"last_article\":\"2019-04-02 20:44:00\"}\r\n\r\n\t\t//dispatch(getNextArticle(id, title));\r\n\t});\r\n};\r\n\r\nconst setArticleCount = (count) => (dispatch) => {\r\n\tdispatch(setOverview(count, null));\r\n};\r\n\r\nexport { checkStatus, setArticleCount };\r\n\r\nexport default appSlice.reducer;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class ErrorBoundary extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { error: null, errorInfo: null };\r\n\t}\r\n\r\n\tcomponentDidCatch(error, errorInfo) {\r\n\t\tthis.setState({\r\n\t\t\terror,\r\n\t\t\terrorInfo\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.errorInfo) {\r\n\t\t\treturn (\r\n\t\t\t\t<div className='bodyWrapper'>\r\n\t\t\t\t\t<h2>Error</h2>\r\n\t\t\t\t\t<details style={{ whiteSpace: 'pre-wrap' }}>\r\n\t\t\t\t\t\t{this.state.error && this.state.error.toString()}\r\n\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t{this.state.errorInfo.componentStack}\r\n\t\t\t\t\t</details>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nErrorBoundary.propTypes = {\r\n\tchildren: PropTypes.node\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport MainPage from '../ToolPage';\r\nimport Header from '../Header';\r\nimport PropTypes from 'prop-types';\r\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport { checkStatus } from './appSlice';\r\nimport { connect } from 'react-redux';\r\n\r\nimport ErrorBoundary from './errorBoundary';\r\n\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst NotFound = ({ location }) => (\r\n\t<div>\r\n\t\t<h3>\r\n\t\t\tDid not found page <code>{location.pathname}</code>\r\n\t\t</h3>\r\n\t</div>\r\n);\r\n\r\nNotFound.propTypes = {\r\n\tlocation: PropTypes.object\r\n};\r\n\r\nconst App = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Router>\r\n\t\t\t\t<ErrorBoundary>\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route exact path='/set/:data' component={MainPage} />\r\n\t\t\t\t\t\t<Route exact path='/simple/:from/:to/:type/:name/:depth?' component={MainPage} />\r\n\t\t\t\t\t\t<Route exact path='/:id?/:auto?' component={MainPage} />\r\n\t\t\t\t\t\t<Route component={NotFound} />\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t</ErrorBoundary>\r\n\t\t\t\t<ToastContainer\r\n\t\t\t\t\tposition='bottom-right'\r\n\t\t\t\t\tautoClose={2500}\r\n\t\t\t\t\thideProgressBar={false}\r\n\t\t\t\t\tnewestOnTop={false}\r\n\t\t\t\t\tcloseOnClick\r\n\t\t\t\t\trtl={false}\r\n\t\t\t\t\tpauseOnVisibilityChange\r\n\t\t\t\t\tdraggable={false}\r\n\t\t\t\t\tpauseOnHover\r\n\t\t\t\t/>\r\n\t\t\t</Router>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import App from './component';\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux'\r\nimport appReducer from './components/App/appSlice'\r\nimport mainReducer from './components/ToolPage/slice'\r\nimport dataReducer from './components/ResultsList/slice'\r\n\r\nexport default combineReducers({\r\n  app: appReducer,\r\n  main: mainReducer,\r\n  data: dataReducer\r\n})\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from \"react-redux\";\r\nimport theme from './theme';\r\n\r\nimport { ThemeProvider } from '@material-ui/core/styles';\r\n\r\nimport { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport App from './components/App/container';\r\n\r\nimport rootReducer from './reducer';\r\n\r\nconst store = configureStore({\r\n\treducer: rootReducer,\r\n});\r\n\r\nReactDOM.render(<Provider store={store}>\r\n\t<ThemeProvider theme={theme}>\r\n\t<App />\r\n\t</ThemeProvider>\r\n</Provider>, document.getElementById('app'));\r\n"],"sourceRoot":""}